!function(){"use strict";angular.module("phidias-ui",["ngAria"])}(),function(){"use strict";function e(e){return{getBounds:function(t,n){e.cancel(t.clearBoundsTimeout),t.clearBoundsTimeout=e(function(){t.data("phi-coordinates-bounds",null)},500);var i=t.data("phi-coordinates-bounds");if(!i){var o=t[0];n=n||o.offsetParent||document.body,n=n[0]||n;var l=o.getBoundingClientRect(),r=n.getBoundingClientRect();i={left:l.left-r.left,top:l.top-r.top,width:l.width,height:l.height,bottom:l.top-r.top+l.height},t.data("phi-coordinates-bounds",i)}return i},parseAlignmentString:function(e){if(void 0==e)return null;var t=null,n=null;return-1!=e.indexOf("center")&&(t="center",n="center"),-1!=e.indexOf("top")&&(t="top"),-1!=e.indexOf("bottom")&&(t="bottom"),-1!=e.indexOf("left")&&(n="left"),-1!=e.indexOf("right")&&(n="right"),t&&n?{vertical:t,horizontal:n}:null}}}angular.module("phidias-ui").service("phiCoordinates",e),e.$inject=["$timeout"]}(),function(){"use strict";function e(e){return{restrict:"A",link:function(t,n,i){angular.element(e[0].body).append(n),t.$on("$destroy",function(){n.remove()})}}}angular.module("phidias-ui").directive("phiModal",e),e.$inject=["$document"]}(),angular.module("phidias-ui").directive("phiPosition",["phiCoordinates",function(e){return{restrict:"A",scope:{},link:function(t,n,i){n.parent().css("position","relative"),n.css("position","absolute"),t.reposition=function(t){var i=e.getBounds(n),o=e.parseAlignmentString(t)||{vertical:"top",horizontal:"left"},l={top:"auto",left:"auto",bottom:"auto",right:"auto",marginTop:0,marginLeft:0};switch(o.vertical){case"top":l.top="10px";break;case"center":l.top="50%",l.marginTop=i.height*-.5+"px";break;case"bottom":l.bottom="10px"}switch(o.horizontal){case"left":l.left="10px";break;case"center":l.left="50%",l.marginLeft=i.width*-.5+"px";break;case"right":l.right="10px"}n.css(l)},i.$observe("phiPosition",function(e){t.reposition(e)})}}}]),function(){"use strict";function e(e){function t(e,t,n){var i=[];e.activeClass="phi-switch-active"+(e.customClassName?" "+e.customClassName:""),e.controls=void 0!=e.controls?e.controls:{},e.controls={activeIndex:null,length:0,select:function(n){i=t.children(),this.length=i.length,i.length&&(n>=i.length?n%=i.length:0>n&&(n=i.length+n),void 0!=i[n]&&(null!==this.activeIndex&&void 0!=i[this.activeIndex]&&angular.element(i[this.activeIndex]).removeClass(e.activeClass),angular.element(i[n]).addClass(e.activeClass),this.activeIndex=n))},next:function(){e.controls.select(e.controls.activeIndex+1)},previous:function(){e.controls.select(e.controls.activeIndex-1)},hasNext:function(){return void 0!=i[e.controls.activeIndex+1]},hasPrevious:function(){return void 0!=i[e.controls.activeIndex-1]}}}return{restrict:"A",scope:{controls:"=phiSwitch",customClassName:"@phiSwitchActiveClass"},link:t}}angular.module("phidias-ui").directive("phiSwitch",e),e.$inject=["$timeout"]}(),function(){"use strict";function e(e){function t(t,n,i){function o(){var t=angular.element(document.getElementById(i.phiTooltipFor));if(t.length){var o=e.getBounds(t),l=e.getBounds(n),r={top:0,left:0},a=e.parseAlignmentString(i.phiTooltipAlign)||{vertical:"bottom",horizontal:"left"};switch(a.vertical){case"top":r.top+=o.top;break;case"center":r.top+=o.top+o.height/2;break;case"bottom":r.top+=o.top+o.height}switch(a.horizontal){case"left":r.left+=o.left;break;case"center":r.left+=o.left+o.width/2;break;case"right":r.left+=o.left+o.width}var c=e.parseAlignmentString(i.phiTooltipOrigin)||{vertical:"top",horizontal:"left"};switch(c.vertical){case"bottom":r.top-=l.height;break;case"center":r.top-=l.height/2}switch(c.horizontal){case"right":r.left-=l.width;break;case"center":r.left-=l.width/2}var s={top:r.top+"px",left:r.left+"px",right:"auto",bottom:"auto"};"width"==i.phiTooltipMatch?s.minWidth=o.width+"px":"height"==i.phiTooltipMatch&&(s.minHeight=o.height+"px"),n.css(s)}}n.css("position","absolute"),i.$observe("phiTooltipFor",function(){o()}),i.$observe("phiTooltipAlign",function(){o()}),i.$observe("phiTooltipOrigin",function(){o()}),i.$observe("phiVisible",function(){o()})}return{restrict:"A",link:t}}angular.module("phidias-ui").directive("phiTooltipFor",e),e.$inject=["phiCoordinates"]}(),angular.module("phidias-ui").directive("phiViewportLeave",["$window","phiCoordinates","$timeout",function(e,t,n){return{restrict:"A",link:function(n,i,o){var l=e.scrollY;angular.element(e).bind("scroll",function(){var r=t.getBounds(i),a=null;l<r.top&&r.top<=e.scrollY?a={direction:"up"}:l+e.innerHeight>r.bottom&&r.bottom>=e.scrollY+e.innerHeight&&(a={direction:"down"}),a&&(n.$eval(o.phiViewportLeave,{event:a}),n.$apply()),l=e.scrollY})}}}]),angular.module("phidias-ui").directive("phiViewportLeaveEnd",["$window","phiCoordinates","$timeout",function(e,t,n){return{restrict:"A",link:function(n,i,o){var l=e.scrollY;n.scrollListener=function(){var r=t.getBounds(i),a=null;l<r.bottom&&r.bottom<=e.scrollY?a={direction:"up"}:l+e.innerHeight>r.top&&r.top>=e.scrollY+e.innerHeight&&(a={direction:"down"}),a&&(n.$eval(o.phiViewportLeaveEnd,{event:a}),n.$apply()),l=e.scrollY},angular.element(e).bind("scroll",n.scrollListener),i.on("$destroy",function(){angular.element(e).unbind("scroll",n.scrollListener)})}}}]),angular.module("phidias-ui").directive("phiViewportEnter",["$window","phiCoordinates","$timeout",function(e,t,n){return{restrict:"A",link:function(n,i,o){var l=e.scrollY;angular.element(e).bind("scroll",function(){var r=t.getBounds(i),a=null;l+e.innerHeight<r.top&&r.top<=e.scrollY+e.innerHeight?a={direction:"up"}:l>r.bottom&&r.bottom>=e.scrollY&&(a={direction:"down"}),a&&(n.$eval(o.phiViewportEnter,{event:a}),n.$apply()),l=e.scrollY})}}}]),angular.module("phidias-ui").directive("phiViewportEnterEnd",["$window","phiCoordinates","$timeout",function(e,t,n){return{restrict:"A",link:function(n,i,o){var l=e.scrollY;angular.element(e).bind("scroll",function(){var r=t.getBounds(i),a=null;l+e.innerHeight<r.bottom&&r.bottom<=e.scrollY+e.innerHeight?a={direction:"up"}:l>r.top&&r.top>=e.scrollY&&(a={direction:"down"}),a&&(n.$eval(o.phiViewportEnterEnd,{event:a}),n.$apply()),l=e.scrollY})}}}]),angular.module("phidias-ui").directive("phiCutout",[function(){return{restrict:"C",link:function(e,t,n){t.prepend(angular.element('<div class="phi-cutout-ridge"><div></div><div></div><div></div></div>'))}}}]),function(){"use strict";function e(){return{restrict:"E",transclude:!0,template:"<button phi-button ng-transclude></button>",replace:!0}}angular.module("phidias-ui").directive("phiButton",e)}(),function(){"use strict";function e(){return{restrict:"E",template:'<div><img ng-src="{{src}}" /></div>',scope:{src:"@"}}}angular.module("phidias-ui").directive("phiAvatar",e)}(),function(){"use strict";function e(e){function t(t,i){return i.type="checkbox",i.tabIndex=0,t.attr("role",i.type),function(t,i,o,l){function r(e){32===e.which&&(e.preventDefault(),a(e))}function a(e){i[0].hasAttribute("disabled")||t.$apply(function(){s=!s,l.$setViewValue(s,e&&e.type),l.$render()})}function c(){s=l.$viewValue,i.toggleClass(n,s)}var s=!1;e.link.pre(t,{on:angular.noop,0:{}},o,[l]),i.on("click",a).on("keypress",r),l.$render=c}}e=e[0];var n="phi-checked";return{restrict:"E",transclude:!0,require:"?ngModel",template:'<div class="phi-checkbox-box"></div><div ng-transclude class="phi-checkbox-label"></div>',compile:t}}angular.module("phidias-ui").directive("phiCheckbox",["inputDirective",e])}(),function(){"use strict";function e(){return{restrict:"E",scope:{src:"@","default":"@"},link:function(e,t,n){n.$observe("src",function(n){var i=[];n&&i.push("url('"+n+"')"),e["default"]&&i.push("url('"+e["default"]+"')"),i.length&&t.css("background-image",i.join())})}}}angular.module("phidias-ui").directive("phiCover",e)}(),angular.module("phidias-ui").directive("phiInput",[function(){var e=1;return{restrict:"E",scope:{name:"@",type:"@",label:"@",placeholder:"@",ngModel:"=",ngModelOptions:"=",ngChange:"&",ngFocus:"&",ngBlur:"&",maxlength:"@"},template:'<div><label for="{{elementId}}" ng-bind="label"></label><input maxlength="{{maxlength}}" type="{{type||\'text\'}}" ng-show="!multiline" placeholder="{{placeholder}}" ng-focus="focus()" ng-blur="blur()" id="{{elementId}}" name="{{name}}" ng-model="ngModel" ng-disabled="state.disabled" ng-model-options="ngModelOptions||{}" /><textarea maxlength="{{maxlength}}" ng-show="multiline" placeholder="{{placeholder}}" ng-focus="focus()" ng-blur="blur()" id="{{elementId}}" name="{{name}}" ng-model="ngModel" ng-disabled="state.disabled" ng-trim="false" ng-model-options="ngModelOptions||{}"></textarea></div><hr />',link:function(t,n,i){t.elementId="phi-input-"+e++,t.floatinglabel="undefined"!=typeof i.floatinglabel&&"false"!==i.floatinglabel&&"0"!==i.floatinglabel,t.multiline="undefined"!=typeof i.multiline&&"false"!==i.multiline&&"0"!==i.multiline,t.state={focused:!1,empty:!0,disabled:"undefined"!=typeof i.disabled&&"false"!==i.disabled&&"0"!==i.disabled};var o=t.multiline?n.find("textarea"):n.find("input");for(var l in i)t.hasOwnProperty(l)||"$"==l.charAt(0)||o.attr(l,i[l]);n.toggleClass("phi-input-disabled",t.state.disabled),n.attr("tabindex",-1),n.on("focus",function(){var e=t.multiline?n.find("textarea"):n.find("input");e[0].focus()}),t.focus=function(){t.state.focused=!0,n.toggleClass("phi-input-focused",!0),t.ngFocus()},t.blur=function(){t.state.focused=!1,n.toggleClass("phi-input-focused",!1),t.ngBlur()},t.resizeTextarea=function(){if(t.multiline){var e=n.find("textarea");e.css("height","auto"),e.css("height",Math.max(e[0].scrollHeight,e[0].clientHeight)+"px")}},t.$watch("ngModel",function(e,i){t.state.empty=void 0==e||!e.length,n.toggleClass("phi-input-empty",t.state.empty),e!=i&&(t.resizeTextarea(),t.ngChange())})}}}]),function(){"use strict";function e(){return{restrict:"E",transclude:!0,scope:!0,template:'<ul class="phi-gallery-thumbnails" ng-transclude></ul><div phi-modal class="phi-gallery-modal" phi-visible="{{gallery.modalShown}}" ng-click="gallery.modalShown = false"><div class="phi-gallery-modal-navigation"><a class="previous"ng-class="{disabled: !gallery.control.hasPrevious()}"ng-click="gallery.control.previous(); $event.stopPropagation();">anterior</a><span>{{gallery.control.activeIndex+1}} de {{gallery.control.length}}</span><a class="next"ng-class="{disabled: !gallery.control.hasNext()}"ng-click="gallery.control.next(); $event.stopPropagation();">siguiente</a></div><div class="phi-gallery-modal-contents" phi-switch="gallery.control"><div ng-repeat="image in gallery.images"><img ng-src="{{image.src}}" /><p ng-bind="image.description"></p></div></div></div>',controller:t,controllerAs:"gallery"}}function t(e){function t(t,o){t.key=n++,i.images.push(t),o.on("click",function(){e.$apply(function(){i.control.select(t.key),i.modalShown=!0})})}var n=0,i=this;i.control=null,i.title="foo",i.images=[],i.addImage=t,i.modalShown=!1}function n(){return{restrict:"E",require:"^phiGallery",template:'<li><img ng-src="{{thumbnail}}" alt="{{alt}}" /></li>',replace:!0,scope:{thumbnail:"@",alt:"@"},link:function(e,t,n,i){var o={src:n.src,thumbnail:n.thumbnail};i.addImage(o,t)}}}angular.module("phidias-ui").directive("phiGallery",e).directive("phiGalleryImage",n),t.$inject=["$scope"]}(),function(){"use strict";function e(){return{restrict:"E",scope:{onSelect:"&"},controller:["$scope",function(e){this.select=function(t){e.onSelect(t)}}]}}function t(){return{restrict:"E",require:"^phiMenu",scope:{label:"@"},transclude:!0,template:'<a class="phi-submenu-label" ng-bind="label" tabindex="0" ng-click="toggle()"></a><div class="phi-submenu-contents" ng-transclude></div>',link:function(e,t,n,i){e.setExpanded=function(n){e.expanded=n,e.expanded?(t.attr("expanded","expanded"),t.find("div").find("a").attr("tabindex",0)):(t.removeAttr("expanded"),t.find("div").find("a").attr("tabindex",-1))},e.toggle=function(){e.setExpanded(!e.expanded)},e.setExpanded(!1);for(var o=t.find("a"),l=0;l<o.length;l++)if(void 0!==angular.element(o[l]).attr("active")){e.setExpanded(!0);break}}}}function n(){return{restrict:"E",require:"^phiMenu",template:"<a ng-transclude></a>",transclude:!0,link:function(e,t,n,i){t.on("click",function(){i.select(t)})}}}angular.module("phidias-ui").directive("phiMenu",e).directive("phiSubmenu",t).directive("phiMenuItem",n)}(),angular.module("phidias-ui").directive("ngThumb",["$window",function(e){var t={support:!(!e.FileReader||!e.CanvasRenderingContext2D),isFile:function(t){return angular.isObject(t)&&t instanceof e.File},isImage:function(e){var t="|"+e.type.slice(e.type.lastIndexOf("/")+1)+"|";return-1!=="|jpg|png|jpeg|bmp|gif|".indexOf(t)}};return{restrict:"A",template:"<canvas/>",link:function(e,n,i){function o(e){var t=new Image;t.onload=l,t.src=e.target.result}function l(){var e=r.width||this.width/this.height*r.height,t=r.height||this.height/this.width*r.width;a.attr({width:e,height:t}),a[0].getContext("2d").drawImage(this,0,0,e,t)}if(t.support){var r=e.$eval(i.ngThumb);if(t.isFile(r.file)&&t.isImage(r.file)){var a=n.find("canvas"),c=new FileReader;c.onload=o,c.readAsDataURL(r.file)}}}}}]),function(){"use strict";function e(){return{restrict:"E",scope:{type:"@",controllerAs:"=",ngModel:"=",onChange:"&",onDestroy:"&"},controller:t,controllerAs:"vm"}}function t(e,t,i,o){function l(n){if(void 0!==d.states[n]&&d.currentState!=n){s&&(s.$destroy(),s=null),s=e.$new(!0),s.phiObject=d,t.removeClass("phi-object-state-"+d.currentState),t.addClass("phi-object-state-"+n),d.currentState=n,d.controller.currentState=n;var l=d.states[n];if(l.controller){var r=i(l.controller,{$scope:s});l.controllerAs&&(s[l.controllerAs]=r)}if(l.template){var a=o(l.template)(s);t.empty().append(a)}}}function r(){d.onChange()}function a(){d.onDestroy()}function c(e){d.isLoading=e,d.controller.isLoading=e}var s,u,d=this;d.ngModel=e.ngModel,d.onChange=e.onChange,d.onDestroy=e.onDestroy,d.states=[],d.currentState=null,d.go=l,d.isLoading=!1,d.setLoading=c,d.change=r,d.destroy=a,u=n(e.type,d),d.states=u.states,d.controller={states:Object.keys(d.states),currentState:d.currentState,go:l,isLoading:d.isLoading},void 0!=e.controllerAs&&(e.controllerAs=d.controller),"function"==typeof u.initialize?u.initialize():d.states.length&&d.go(Object.keys(d.states)[0])}function n(e,t){var n=e.split("-").map(function(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()}),i="phiObject"+n.join("");try{var o=angular.element(document.body).injector().get(i);return o(t)}catch(l){return console.log("Block service "+i+" not found"),{states:[]}}}angular.module("phidias-ui").directive("phiObject",e),t.$inject=["$scope","$element","$controller","$compile"]}(),function(){"use strict";function e(){return{restrict:"E",require:"?ngModel",transclude:!0,template:'<div id="{{vm.uniqueId}}" class="phi-select-face" ng-click="vm.expand()" ng-class="{\'phi-select-expanded\': vm.isExpanded}"><div ng-show="!vm.isExpanded" class="phi-select-value"></div><input ng-show="!!vm.isExpanded" type="text" ng-model="vm.query" tabindex="-1" size="2" /></div><phi-menu ng-transclude phi-texture="paper" phi-tooltip-for="{{vm.uniqueId}}" phi-visible="{{vm.isExpanded}}" phi-visible-animation="slide-bottom"></phi-menu>',scope:{onSearch:"&phiOnSearch"},controller:n,controllerAs:"vm",bindToController:!0,link:t}}function t(e,t,n,i){function l(e){e||(e="");for(var n=t.find("phi-option"),i=0;i<n.length;i++){var o=angular.element(n[i]);if(o.attr("value")==e)return o}return null}e.vm.uniqueId="phiSelect"+ ++o,t.data("phiSelectLinkId",e.vm.uniqueId),t.on("focus",e.vm.expand);var r=angular.element(t.find("div")[1]);e.vm.ngModel=i,i.$render=function(){var e=l(i.$viewValue);r.html(e?e.html():i.$viewValue)},e.$watch("vm.query",function(t,n){t!=n&&e.vm.onSearch({query:t})})}function n(e,t,n,i){function o(t){angular.element(t.target).inheritedData("phiSelectLinkId")!=n.data("phiSelectLinkId")&&e.$apply(l.collapse)}var l=this;l.query=null,l.setValue=function(e){l.collapse(),l.ngModel.$setViewValue(e),l.ngModel.$render()},l.isExpanded=!1,l.expand=function(){l.isExpanded||(l.isExpanded=!0,i(function(){n.find("input")[0].focus()},0),t.bind("click",o),l.onSearch())},l.collapse=function(){l.isExpanded=!1,t.unbind("click",o)},l.toggle=function(){l.isExpanded?l.collapse():l.expand()},l.attachOptionElement=function(e){e.on("click",function(){l.setValue(e.attr("value"))})}}function i(){return{restrict:"E",require:"^phiSelect",template:"<a ng-transclude></a>",transclude:!0,link:function(e,t,n,i){i.attachOptionElement(t)}}}angular.module("phidias-ui").directive("phiSelect",e).directive("phiOption",i);var o=0;n.$inject=["$scope","$document","$element","$timeout"]}(),function(){"use strict";function e(){return function(e){function t(){var t=this;t.model=e.ngModel}return{initialize:function(){e.go("view")},states:{view:{controller:t,controllerAs:"vm",template:'<div><h1 ng-bind="vm.model.title"></h1><p ng-bind="vm.model.avatar"></p></div>'},form:{controller:t,controllerAs:"vm",template:'<div><input type="text" ng-model="vm.model.title"></input><input type="text" ng-model="vm.model.avatar"></input></div>'},dump:{controller:t,controllerAs:"vm",template:"<pre>{{vm.model}}</pre>"}}}}}angular.module("phidias-ui").factory("phiObjectExample",e)}(),function(){"use strict";function e(){return{restrict:"A",link:function(e,t,n){var i=n.phiColorTint,o=n.phiColorTheme;t.prepend('<div phi-color-theme="'+o+'" class="phi-color-tint phi-color-background-'+i+'" />')}}}angular.module("phidias-ui").directive("phiColorTint",e)}();